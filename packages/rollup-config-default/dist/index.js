"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var babel=_interopDefault(require("rollup-plugin-babel")),executable=_interopDefault(require("rollup-plugin-executable")),nodeResolve=_interopDefault(require("rollup-plugin-node-resolve")),commonjs=_interopDefault(require("rollup-plugin-commonjs")),rollupPluginUglify=require("rollup-plugin-uglify"),merge=_interopDefault(require("deepmerge")),packageJSON=void 0;try{packageJSON=require("./package.json")}catch(e){packageJSON={name:"",dependencies:[]}}var _packageJSON=packageJSON,name=_packageJSON.name,dependencies=_packageJSON.dependencies,config={input:"src/index.js",plugins:[babel({babelrc:!1,presets:[["env",{modules:!1}],"stage-3"],exclude:"**/node_modules/**",plugins:["external-helpers"]}),rollupPluginUglify.uglify(),nodeResolve({preferBuiltins:!1}),commonjs()],output:{file:"dist/index.js",exports:"named",name:name,format:"cjs",sourceMap:!0},external:dependencies?Object.keys(dependencies):void 0},trimPlugins=function(e,t){var u=e;return(t.plugins||[]).forEach(function(n){var e=t.plugins.findIndex(function(e){return e.name===n.name});-1<e&&delete u.plugins[e]}),u},trimConfig=function(e,n){var t=e;return t.output&&(t.output.name&&delete t.output.name,t.output.globals&&delete t.output.globals),t.external&&delete t.external,t},replacePlugins=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],t=e;return n.forEach(function(n){var e=t.plugins.findIndex(function(e){return e.name===n.name});-1<e?t.plugins[e]=n:t.plugins.push(n)}),t},mergeConfig=function(e,n){return merge(trimPlugins(trimConfig(e),n),n)},defaultConfig=config,mergeDefaultConfig=function(e){return mergeConfig(defaultConfig,e)},defaultNpmConfig=mergeDefaultConfig({}),mergeDefaultNpmConfig=function(e){return mergeConfig(defaultNpmConfig,e)},defaultNodeConfig=mergeDefaultNpmConfig({output:{format:"cjs"},plugins:[nodeResolve({preferBuiltins:!0}),commonjs()]}),mergeDefaultNodeConfig=function(e){return mergeConfig(defaultNodeConfig,e)},defaultExecutableConfig=mergeDefaultNodeConfig({output:{format:"cjs"},plugins:[executable()]}),mergeDefaultExecutableConfig=function(e){return mergeConfig(defaultExecutableConfig,e)};exports.trimPlugins=trimPlugins,exports.trimConfig=trimConfig,exports.replacePlugins=replacePlugins,exports.mergeConfig=mergeConfig,exports.config=config,exports.defaultConfig=defaultConfig,exports.mergeDefaultConfig=mergeDefaultConfig,exports.defaultNpmConfig=defaultNpmConfig,exports.mergeDefaultNpmConfig=mergeDefaultNpmConfig,exports.defaultNodeConfig=defaultNodeConfig,exports.mergeDefaultNodeConfig=mergeDefaultNodeConfig,exports.defaultExecutableConfig=defaultExecutableConfig,exports.mergeDefaultExecutableConfig=mergeDefaultExecutableConfig,exports.default=config;
