"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var babel=_interopDefault(require("rollup-plugin-babel")),executable=_interopDefault(require("rollup-plugin-executable")),nodeResolve=_interopDefault(require("rollup-plugin-node-resolve")),commonjs=_interopDefault(require("rollup-plugin-commonjs")),rollupPluginUglify=require("rollup-plugin-uglify"),merge=_interopDefault(require("deepmerge")),_extends=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},toConsumableArray=function(e){if(Array.isArray(e)){for(var n=0,t=Array(e.length);n<e.length;n++)t[n]=e[n];return t}return Array.from(e)},packageJSON=void 0;try{packageJSON=require("./package.json")}catch(e){packageJSON={name:"",dependencies:[],devDependencies:[],peerDependencies:[]}}var _packageJSON=packageJSON,name=_packageJSON.name,getExternals=function(e){var n=e.dependencies,t=void 0===n?{}:n,r=e.devDependencies,o=void 0===r?{}:r,i=e.peerDependencies,u=void 0===i?{}:i;return[].concat(toConsumableArray(Object.keys(t)),toConsumableArray(Object.keys(o)),toConsumableArray(Object.keys(u)))},config={input:"src/index.js",plugins:[nodeResolve({preferBuiltins:!0}),commonjs(),babel({babelrc:!1,presets:[["env",{modules:!1}],"stage-3"],exclude:"**/node_modules/**",plugins:["external-helpers"]}),rollupPluginUglify.uglify()],output:{file:"dist/index.js",exports:"named",name:name,format:"cjs",sourceMap:!0},external:getExternals(packageJSON)},getExternals$1=function(e){var n=e.dependencies,t=void 0===n?{}:n,r=e.devDependencies,o=void 0===r?{}:r,i=e.peerDependencies,u=void 0===i?{}:i;return[].concat(toConsumableArray(Object.keys(t)),toConsumableArray(Object.keys(o)),toConsumableArray(Object.keys(u)))},isDefined=function(e){return void 0!==e},isDuplicate=function(n,e,t){return e===t.findIndex(function(e){return e.name===n.name})},replacePlugins=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],t=_extends({},e,{plugins:e.plugins.filter(isDefined).filter(isDuplicate)});return n.forEach(function(n){var e=t.plugins.findIndex(function(e){return e.name===n.name});-1<e?t.plugins.splice(e,1,n):t.plugins.push(n)}),t},trimPlugins=function(e){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[],t=_extends({},e,{plugins:e.plugins.filter(isDefined).filter(isDuplicate)});return n.forEach(function(n){var e=t.plugins.findIndex(function(e){return e.name===n.name});-1<e&&t.plugins.splice(e,1)}),t},trimConfig=function(e){var n=e;return n.output&&(n.output.name&&delete n.output.name,n.output.globals&&delete n.output.globals),n.external&&delete n.external,n},mergeConfig=function(e,n){return merge(trimPlugins(trimConfig(e),n.plugins),n)},defaultConfig=config,mergeDefaultConfig=function(e){return mergeConfig(defaultConfig,e)},defaultNpmConfig=mergeDefaultConfig({}),mergeDefaultNpmConfig=function(e){return mergeConfig(defaultNpmConfig,e)},defaultNodeConfig=mergeDefaultNpmConfig({output:{format:"cjs"},plugins:[nodeResolve({preferBuiltins:!0}),commonjs()]}),mergeDefaultNodeConfig=function(e){return mergeConfig(defaultNodeConfig,e)},defaultExecutableConfig=mergeDefaultNodeConfig({output:{format:"cjs"},plugins:[executable()]}),mergeDefaultExecutableConfig=function(e){return mergeConfig(defaultExecutableConfig,e)};exports.getExternals=getExternals$1,exports.replacePlugins=replacePlugins,exports.trimPlugins=trimPlugins,exports.trimConfig=trimConfig,exports.mergeConfig=mergeConfig,exports.config=config,exports.defaultConfig=defaultConfig,exports.mergeDefaultConfig=mergeDefaultConfig,exports.defaultNpmConfig=defaultNpmConfig,exports.mergeDefaultNpmConfig=mergeDefaultNpmConfig,exports.defaultNodeConfig=defaultNodeConfig,exports.mergeDefaultNodeConfig=mergeDefaultNodeConfig,exports.defaultExecutableConfig=defaultExecutableConfig,exports.mergeDefaultExecutableConfig=mergeDefaultExecutableConfig,exports.default=config;
